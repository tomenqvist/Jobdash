<div class="search-grid">
  <mat-card class="card">
    <mat-card-title>Sök jobb</mat-card-title>
    <mat-card-subtitle>Enter a jobtitle for more insights</mat-card-subtitle>
    <mat-card-content>
      <form [formGroup]="searchForm">
        <mat-form-field>
          <mat-label matNativeControl for="query">Sökord</mat-label>
          <input
            matNativeControl
            type="text"
            id="query"
            formControlName="query"
          />
        </mat-form-field>

        <mat-form-field>
          <mat-label for="occupation">Jobbtitel</mat-label>
          <mat-select id="occupation">
            <mat-option value="fg7B_yov_smw"
              >Systemutvecklare/Programmerare</mat-option
            >
            <mat-option value="7wdX_4rv_33z">Backend-utvecklare</mat-option>
          </mat-select>
        </mat-form-field>
        <button mat-button color="primary" (click)="onSearch()">Sök</button>
      </form>
    </mat-card-content>
  </mat-card>
  <mat-card class="card">
    <mat-card-title>Insikter</mat-card-title>
    <mat-card-subtitle></mat-card-subtitle>
    <mat-card-content>
      <p>Coming soon...</p>
    </mat-card-content>
  </mat-card>
</div>
<div class="ad-grid">
  <mat-card
    *ngFor="let ad of jobads"
    (click)="openJobAdDialog(ad.id)"
    class="card ad-card"
  >
    <div class="card-top">
      <span class="deadline">{{
        ad.application_deadline.substring(0, 10)
      }}</span>
      <span clas="rel">Relevans: {{ (ad.relevance * 100).toFixed() }}%</span>
    </div>

    <mat-card-header>
      <mat-card-title>{{ ad.headline }}</mat-card-title>
      <mat-card-subtitle>{{ ad.employer.workplace }}</mat-card-subtitle>
      <mat-card-subtitle>{{ ad.workplace_address.region }}</mat-card-subtitle>
      <mat-card-subtitle>{{ ad.occupation.label }}</mat-card-subtitle>
    </mat-card-header>
  </mat-card>
</div>
